<!-- templates/organization/sport_detail.html -->
{% extends "base.html" %}
{% block title %}{{ sport.name }} Overview{% endblock %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
    <h1>{{ sport.name }}</h1>
    <!-- You would link this to your SportCreateView -->
    <a href="{% url 'sport-add' %}" class="btn btn-primary">+ Add New Sport</a>
</div>

<p>Showing all teams and athletes for this sport.</p>

{% for team in teams_in_sport %}
<div class="card mb-4">
    <div class="card-header">
        <h4>{{ team }}</h4>
    </div>
    <div class="list-group list-group-flush">
        {% for athlete in team.athlete_set.all %}
            <a href="{{ athlete.get_absolute_url }}" class="list-group-item list-group-item-action d-flex align-items-center">
                {% if athlete.user.image %}<img src="{{ athlete.user.image.url }}" class="rounded-circle me-3" style="width:40px; height:40px; object-fit: cover;">{% endif %}
                {{ athlete.user.get_full_name }}
            </a>
        {% empty %}
            <div class="list-group-item">No athletes on this team yet.</div>
        {% endfor %}
    </div>
</div>
{% endfor %}
{% endblock %}